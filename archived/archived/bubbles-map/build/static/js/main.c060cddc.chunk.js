(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},28:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(7),l=a.n(o),u=(a(26),a(28),a(17),a(8)),r=a(9),s=a(14),d=a(10),c=a(15),m=a(35),p=a(37),v=a(36),h=a(38);var g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={currentZoom:e.zoom},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderTitle",value:function(){return!0===this.props.titleenabled?i.a.createElement("h3",{style:{textAlign:"center"}},this.props.title):null}},{key:"onViewPortChanged",value:function(e){console.debug(e),this.props.resizeBubbles&&this.setState({currentZoom:e.zoom||this.props.zoom})}},{key:"zoomFactor",value:function(){var e=this.state.currentZoom,t=this.props.zoom;return e>t?e/t:1}},{key:"render",value:function(){var e=this,t=this.props.data.map(function(e){return e.value}),a=t.length>1?Math.max.apply(Math,t):t[0],n=t.length>1?Math.min.apply(Math,t):0;return i.a.createElement("div",null,this.renderTitle(),i.a.createElement(m.a,{style:{height:"480px",width:"100%"},zoom:this.props.zoom,center:[this.props.latitude,this.props.longitude],onViewportChange:function(t){return e.onViewPortChanged(t)}},i.a.createElement(p.a,{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.props.data.map(function(t){return i.a.createElement("div",{key:t.name},i.a.createElement(v.a,{key:t.name,center:[t.latitude,t.longitude],radius:(o=t.value,l=n,u=a,r=e.props.minRadius,s=e.props.maxRadius,(r+(s-r)*(o-l)/(u-l))*e.zoomFactor()),color:e.props.bubblecolor,fillOpacity:.5,stroke:!1},i.a.createElement(h.a,{direction:"right",offset:[-8,-2],opacity:1},i.a.createElement("span",null,"".concat(t.name,": ").concat(t.value)))));var o,l,u,r,s})))}}]),t}(n.Component),b=[{name:"Tokyo",longitude:139.6917,latitude:35.6895,value:37843e3},{name:"Jakarta",longitude:106.865,latitude:-6.1751,value:30539e3},{name:"Delhi",longitude:77.1025,latitude:28.7041,value:24998e3},{name:"Seoul",longitude:126.978,latitude:37.5665,value:2348e4},{name:"Shanghai",longitude:121.4737,latitude:31.2304,value:23416e3},{name:"Karachi",longitude:67.0099,latitude:24.8615,value:22123e3},{name:"Beijing",longitude:116.4074,latitude:39.9042,value:21009e3},{name:"Mumbai",longitude:72.8777,latitude:19.076,value:17712e3},{name:"Osaka",longitude:135.5022,latitude:34.6937,value:17444e3},{name:"Moscow",longitude:37.6173,latitude:55.7558,value:1617e4},{name:"Dhaka",longitude:90.4125,latitude:23.8103,value:15669e3},{name:"Bangkok",longitude:100.5018,latitude:13.7563,value:14998e3},{name:"Kolkata",longitude:88.3639,latitude:22.5726,value:14667e3},{name:"Istanbul",longitude:28.9784,latitude:41.0082,value:13287e3}],f=i.a.Component,E=[28.7041,77.1025],y=!0,w="Most Populous Cities in Asia",k=1,z="blue",B=20,M=2,O=!0;var R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={latitude:E[0],longitude:E[1],titleenabled:y,title:w,zoom:k,bubblecolor:z,maxRadius:B,minRadius:M,data:b,resizeBubbles:O,invalidDataSet:!1},a.receiveEvent=function(e){var t=e.data.properties,n=+t.get("latitude"),i=+t.get("longitude"),o="false"===t.get("titleenabled"),l=t.get("title"),u=+t.get("zoom"),r=+t.get("maxRadius"),s=+t.get("minRadius"),d=t.get("bubblecolor"),c="true"===t.get("resizeBubbles"),m=t.get("dataSet"),p=b,v=function(e){if(e){var t=e.columns;if(3===t.length)return("TEXT"===t[0].type||"LABEL"===t[0].type)&&"NUMBER"===t[1].type&&("TEXT"===t[2].type||"LABEL"===t[2].type);if(4===t.length)return("TEXT"===t[0].type||"LABEL"===t[0].type)&&"NUMBER"===t[1].type&&"NUMBER"===t[2].type&&"NUMBER"===t[3].type}return!1}(m);if(v){p=[];var h="TEXT"===m.columns[2].type;m.data.forEach(function(e){var t,a;if(h){var n=e[2].split(",");t=+n[0].trim(),a=+n[1].trim()}else t=+e[2],a=+e[3];p.push({name:e[0],value:+e[1],latitude:t,longitude:a})})}a.setState({latitude:n||E[0],longitude:i||E[1],titleenabled:o,title:l||w,zoom:u||k,bubblecolor:d?"#"+d:z,maxRadius:r||B,minRadius:s||M,data:p,invalidDataSet:!v,resizeBubbles:c})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveEvent,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveEvent,!1)}},{key:"render",value:function(){return i.a.createElement("div",{style:{width:"auto",height:"auto"}},this.state.invalidDataSet?i.a.createElement("div",null,i.a.createElement("em",null,i.a.createElement("strong",null,"Provided dataset is not valid. Please check Map Component instructions for more details. Showing sample data."))):null,i.a.createElement(g,this.state))}}]),t}(f);var j=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.c060cddc.chunk.js.map